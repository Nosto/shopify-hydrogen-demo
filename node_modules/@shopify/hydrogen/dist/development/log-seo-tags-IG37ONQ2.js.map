{"version":3,"sources":["../../src/seo/log-seo-tags.ts"],"names":[],"mappings":"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","file":"log-seo-tags-IG37ONQ2.js","sourcesContent":["import type {CustomHeadTagObject} from './generate-seo-tags';\n\nexport default function Logger({headTags}: {headTags: CustomHeadTagObject[]}) {\n  logSeoTags(headTags);\n\n  return null;\n}\n\nconst headingStyle = 'text-transform: uppercase;';\nconst titleStyle =\n  'text-transform: uppercase; font-weight: bold; text-transform: uppercase;font-weight: bold';\n\nexport function logSeoTags(headTags: CustomHeadTagObject[]) {\n  console.log(' ');\n  console.log('%cSEO Meta Tags', `${titleStyle}`);\n  console.log(' ');\n\n  headTags.forEach((tag) => {\n    if (tag.tag === 'script') {\n      console.log(`%c• JSON LD `, headingStyle);\n\n      if (tag.children) {\n        try {\n          console.table(JSON.parse(tag.children), ['name', 'content']);\n        } catch {\n          console.log(tag.children);\n        }\n      }\n    } else {\n      console.log(`%c• ${tag.tag} `, headingStyle);\n\n      if (tag.children) {\n        if (typeof tag.children === 'string') {\n          console.log(`↳ ${tag.children}`);\n        } else {\n          try {\n            Object.entries(JSON.parse(tag.children)).map(([key, val]) =>\n              console.log(`↳ ${val}`),\n            );\n          } catch {\n            console.log(tag.children);\n          }\n        }\n      }\n\n      if (tag.props.property === 'og:image:url') {\n        const urlKey = tag.props.content as string;\n\n        fetchImage(urlKey)\n          .then((image) => {\n            const imageStyle = `font-size: 400px; padding: 10px; background: white url(${image}) no-repeat center; background-size: contain;`;\n\n            console.log(`%c• Share image preview`, headingStyle);\n            console.log('%c  ', imageStyle);\n            console.log(`↳ ${urlKey}`);\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      }\n\n      Object.entries(tag.props).map(([key, val]) => {\n        console.log(`↳ ${key} → ${val}`);\n      });\n    }\n    console.log(' ');\n  });\n}\n\nasync function fetchImage(url: string) {\n  const result = await fetch(url);\n  const data = await result.blob();\n  const buff = await data.arrayBuffer();\n  const base64String = arrayBufferToBase64(buff);\n\n  return `data:image/png;base64,${base64String}`;\n}\n\nfunction arrayBufferToBase64(buffer: ArrayBuffer) {\n  let binary = '';\n  const bytes = new Uint8Array(buffer);\n  const len = bytes.byteLength;\n\n  for (let index = 0; index < len; index++) {\n    binary += String.fromCharCode(bytes[index]);\n  }\n\n  return btoa(binary);\n}\n"]}