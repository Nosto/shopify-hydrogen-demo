(function(C,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],u):(C=typeof globalThis<"u"?globalThis:C||self,u(C.hydrogenreact={},C.React))})(this,(function(C,u){"use strict";function rr(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const N=rr(u);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Ke(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(o){a={error:o}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s}var te;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(te||(te={}));var Je={type:"xstate.init"};function Pe(e){return e===void 0?[]:[].concat(e)}function ne(e){return{type:"xstate.assign",assignment:e}}function Qe(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function Ce(e){return function(t){return e===t}}function Xe(e){return typeof e=="string"?{type:e}:e}function ze(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Ce(e)}}function et(e,t,r){var n=t,a=!1;return[e.filter((function(i){if(i.type==="xstate.assign"){a=!0;var s=Object.assign({},n);return typeof i.assignment=="function"?s=i.assignment(n,r):Object.keys(i.assignment).forEach((function(o){s[o]=typeof i.assignment[o]=="function"?i.assignment[o](n,r):i.assignment[o]})),n=s,!1}return!0})),n,a]}function tt(e,t){t===void 0&&(t={});var r=Ke(et(Pe(e.states[e.initial].entry).map((function(s){return Qe(s,t.actions)})),e.context,Je),2),n=r[0],a=r[1],i={config:e,_options:t,initialState:{value:e.initial,actions:n,context:a,matches:Ce(e.initial)},transition:function(s,o){var l,d,y=typeof s=="string"?{value:s,context:e.context}:s,f=y.value,h=y.context,m=Xe(o),c=e.states[f];if(c.on){var S=Pe(c.on[m.type]);try{for(var _=(function(U){var ce=typeof Symbol=="function"&&Symbol.iterator,Ee=ce&&U[ce],Se=0;if(Ee)return Ee.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")})(S),w=_.next();!w.done;w=_.next()){var I=w.value;if(I===void 0)return ze(f,h);var b=typeof I=="string"?{target:I}:I,v=b.target,p=b.actions,g=p===void 0?[]:p,E=b.cond,P=E===void 0?function(){return!0}:E,R=v===void 0,A=v??f,O=e.states[A];if(P(h,m)){var H=Ke(et((R?Pe(g):[].concat(c.exit,g,O.entry).filter((function(U){return U}))).map((function(U){return Qe(U,i._options.actions)})),h,m),3),D=H[0],$=H[1],ee=H[2],pe=v??f;return{value:pe,context:$,actions:D,changed:v!==f||D.length>0||ee,matches:Ce(pe)}}}}catch(U){l={error:U}}finally{try{w&&!w.done&&(d=_.return)&&d.call(_)}finally{if(l)throw l.error}}}return ze(f,h)}};return i}var rt=function(e,t){return e.actions.forEach((function(r){var n=r.exec;return n&&n(e.context,t)}))};function nr(e){var t=e.initialState,r=te.NotStarted,n=new Set,a={_machine:e,send:function(i){r===te.Running&&(t=e.transition(t,i),rt(t,Xe(i)),n.forEach((function(s){return s(t)})))},subscribe:function(i){return n.add(i),i(t),{unsubscribe:function(){return n.delete(i)}}},start:function(i){if(i){var s=typeof i=="object"?i:{context:e.config.context,value:i};t={value:s.value,actions:[],context:s.context,matches:Ce(s.value)}}else t=e.initialState;return r=te.Running,rt(t,Je),a},stop:function(){return r=te.Stopped,n.clear(),a},get state(){return t},get status(){return r}};return a}var ar=u.useLayoutEffect,Oe={exports:{}},Re={},De={exports:{}},Ve={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt;function ir(){if(nt)return Ve;nt=1;var e=u;function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(f,h){var m=h(),c=n({inst:{value:m,getSnapshot:h}}),S=c[0].inst,_=c[1];return i(function(){S.value=m,S.getSnapshot=h,l(S)&&_({inst:S})},[f,m,h]),a(function(){return l(S)&&_({inst:S}),f(function(){l(S)&&_({inst:S})})},[f]),s(m),m}function l(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function d(f,h){return h()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return Ve.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Ve}var at;function or(){return at||(at=1,De.exports=ir()),De.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it;function sr(){if(it)return Re;it=1;var e=u,t=or();function r(d,y){return d===y&&(d!==0||1/d===1/y)||d!==d&&y!==y}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Re.useSyncExternalStoreWithSelector=function(d,y,f,h,m){var c=i(null);if(c.current===null){var S={hasValue:!1,value:null};c.current=S}else S=c.current;c=o(function(){function w(g){if(!I){if(I=!0,b=g,g=h(g),m!==void 0&&S.hasValue){var E=S.value;if(m(E,g))return v=E}return v=g}if(E=v,n(b,g))return E;var P=h(g);return m!==void 0&&m(E,P)?E:(b=g,v=P)}var I=!1,b,v,p=f===void 0?null:f;return[function(){return w(y())},p===null?void 0:function(){return w(p())}]},[y,f,h,m]);var _=a(d,c[0],c[1]);return s(function(){S.hasValue=!0,S.value=_},[_]),l(_),_},Re}var ot;function cr(){return ot||(ot=1,Oe.exports=sr()),Oe.exports}var ur=cr();function lr(e){var t=N.useRef();return t.current||(t.current={v:e()}),t.current.v}var dr=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i};function fr(e){return e}var hr=function(e){var t;return e.subscribe(function(r){t=r}).unsubscribe(),t};function yr(e,t){var r=u.useRef(),n=dr(lr(function(){var o=[],l=nr(tt(e.config,t||e._options)),d=l.send;return l.send=function(y){if(l.status===te.NotStarted){o.push(y);return}d(y),r.current=l.state},[l,o]}),2),a=n[0],i=n[1];ar(function(){t&&(a._machine._options=t)});var s=mr(a);return u.useEffect(function(){return a.start(r.current),i.forEach(a.send),r.current=a.state,function(){a.stop()}},[]),s}var gr=function(e,t){return t.changed===!1};function mr(e){var t=u.useCallback(function(){return hr(e)},[e]),r=u.useCallback(function(a){var i=e.subscribe(a).unsubscribe;return i},[e]),n=ur.useSyncExternalStoreWithSelector(r,t,t,fr,gr);return[n,e.send,e]}function J(e){if(!e){const t=`flattenConnection(): needs a 'connection' to flatten, but received '${e??""}' instead.`;return console.error(t+" Returning an empty array"),[]}return"nodes"in e?e.nodes:"edges"in e&&Array.isArray(e.edges)?e.edges.map(t=>{if(!(t!=null&&t.node))throw new Error("flattenConnection(): Connection edges must contain nodes");return t.node}):[]}const pr=e=>`
  mutation CartLineAdd(
    $cartId: ID!
    $lines: [CartLineInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesAdd(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Er=e=>`
  mutation CartCreate(
    $input: CartInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartCreate(input: $input) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Sr=e=>`
  mutation CartLineRemove(
    $cartId: ID!
    $lines: [ID!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesRemove(cartId: $cartId, lineIds: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,_r=e=>`
  mutation CartLineUpdate(
    $cartId: ID!
    $lines: [CartLineUpdateInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesUpdate(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Cr=e=>`
  mutation CartNoteUpdate(
    $cartId: ID!
    $note: String!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartNoteUpdate(cartId: $cartId, note: $note) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Tr=e=>`
  mutation CartBuyerIdentityUpdate(
    $cartId: ID!
    $buyerIdentity: CartBuyerIdentityInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Ar=e=>`
  mutation CartAttributesUpdate(
    $attributes: [AttributeInput!]!
    $cartId: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,br=e=>`
  mutation CartDiscountCodesUpdate(
    $cartId: ID!
    $discountCodes: [String!]
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,wr=e=>`
  query CartQuery(
    $id: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cart(id: $id) {
      ...CartFragment
    }
  }

  ${e}
`,Ir=`
  fragment CartFragment on Cart {
    id
    checkoutUrl
    totalQuantity
    buyerIdentity {
      countryCode
      customer {
        id
        email
        firstName
        lastName
        displayName
      }
      email
      phone
    }
    lines(first: $numCartLines) {
      edges {
        node {
          id
          quantity
          attributes {
            key
            value
          }
          cost {
            totalAmount {
              amount
              currencyCode
            }
            compareAtAmountPerQuantity {
              amount
              currencyCode
            }
          }
          merchandise {
            ... on ProductVariant {
              id
              availableForSale
              compareAtPrice {
                ...MoneyFragment
              }
              price {
                ...MoneyFragment
              }
              requiresShipping
              title
              image {
                ...ImageFragment
              }
              product {
                handle
                title
                id
              }
              selectedOptions {
                name
                value
              }
            }
          }
        }
      }
    }
    cost {
      subtotalAmount {
        ...MoneyFragment
      }
      totalAmount {
        ...MoneyFragment
      }
      totalDutyAmount {
        ...MoneyFragment
      }
      totalTaxAmount {
        ...MoneyFragment
      }
    }
    note
    attributes {
      key
      value
    }
    discountCodes {
      code
      applicable
    }
  }

  fragment MoneyFragment on MoneyV2 {
    currencyCode
    amount
  }
  fragment ImageFragment on Image {
    id
    url
    altText
    width
    height
  }
`,ae="2025-07",vr="mock.shop",Ue=e=>e.includes(vr);function Pr({storeDomain:e,privateStorefrontToken:t,publicStorefrontToken:r,storefrontApiVersion:n=ae,contentType:a}){if(!e)throw new Error(Ne+"`storeDomain` is required when creating a new Storefront client in production.");n!==ae&&Or(`The Storefront API version that you're using is different than the version this build of Hydrogen React is targeting.
You may run into unexpected errors if these versions don't match. Received version: "${n}"; expected version "${ae}"`);const i=s=>{const o=(s==null?void 0:s.storeDomain)??e;return o.includes("://")?o:`https://${o}`};return{getShopifyDomain:i,getStorefrontApiUrl(s){const o=i(s),l=o+(o.endsWith("/")?"api":"/api");return Ue(o)?l:`${l}/${(s==null?void 0:s.storefrontApiVersion)??n}/graphql.json`},getPrivateTokenHeaders(s){if(!t&&!(s!=null&&s.privateStorefrontToken)&&!Ue(e))throw new Error(Ne+"You did not pass in a `privateStorefrontToken` while using `createStorefrontClient()` or `getPrivateTokenHeaders()`");return{"content-type":((s==null?void 0:s.contentType)??a)==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":n,"Shopify-Storefront-Private-Token":(s==null?void 0:s.privateStorefrontToken)??t??"",...s!=null&&s.buyerIp?{"Shopify-Storefront-Buyer-IP":s.buyerIp}:{}}},getPublicTokenHeaders(s){if(!r&&!(s!=null&&s.publicStorefrontToken)&&!Ue(e))throw new Error(Ne+"You did not pass in a `publicStorefrontToken` while using `createStorefrontClient()` or `getPublicTokenHeaders()`");const o=(s==null?void 0:s.contentType)??a??"json";return st(o,n,(s==null?void 0:s.publicStorefrontToken)??r??"")}}}function st(e,t,r){return{"content-type":e==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":t,"X-Shopify-Storefront-Access-Token":r}}const ct=new Set,Ne="[h2:error:createStorefrontClient] ",Or=(e,t="warn")=>{ct.has(e)||(console[t](`[h2:${t}:createStorefrontClient] `+e),ct.add(e))},ut={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:ae,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},lt=u.createContext(ut);function Rr({children:e,...t}){if(!t.countryIsoCode||!t.languageIsoCode||!t.storeDomain||!t.storefrontToken||!t.storefrontApiVersion)throw new Error("Please provide the necessary props to '<ShopifyProvider/>'");t.storefrontApiVersion!==ae&&console.warn(`<ShopifyProvider/>: This version of Hydrogen React is built for Shopify's Storefront API version ${ae}, but it looks like you're using version ${t.storefrontApiVersion}. There may be issues or bugs if you use a mismatched version of Hydrogen React and the Storefront API.`);const r=u.useMemo(()=>{function n(a){const i=(a==null?void 0:a.storeDomain)??t.storeDomain;return i.includes("://")?i:`https://${i}`}return{...t,getPublicTokenHeaders(a){return st(a.contentType,t.storefrontApiVersion,a.storefrontToken??t.storefrontToken)},getShopifyDomain:n,getStorefrontApiUrl(a){const i=n({storeDomain:(a==null?void 0:a.storeDomain)??t.storeDomain});return`${i}${i.endsWith("/")?"":"/"}api/${(a==null?void 0:a.storefrontApiVersion)??t.storefrontApiVersion}/graphql.json`}}},[t]);return React.createElement(lt.Provider,{value:r},e)}function ue(){const e=u.useContext(lt);if(!e)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return e}const ke="shopifyCartId",dt="Shopify-Storefront-Id",ft="Shopify-Storefront-Y",ht="Shopify-Storefront-S",Q="_shopify_y",X="_shopify_s";var Dr=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function Vr(e){let t={},r,n,a=0,i=e.split(/;\s*/g),s,o;for(;a<i.length;a++)if(n=i[a],r=n.indexOf("="),~r){if(s=n.substring(0,r++).trim(),o=n.substring(r).trim(),o[0]==='"'&&(o=o.substring(1,o.length-1)),~o.indexOf("%"))try{o=decodeURIComponent(o)}catch{}Dr.has(n=s.toLowerCase())?n==="expires"?t.expires=new Date(o):n==="max-age"?t.maxage=+o:t[n]=o:t[s]=o}else(s=n.trim().toLowerCase())&&(s==="httponly"||s==="secure")&&(t[s]=!0);return t}function Ur(e,t,r={}){let n=e+"="+encodeURIComponent(t);return r.expires&&(n+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(n+="; Max-Age="+(r.maxage|0)),r.domain&&(n+="; Domain="+r.domain),r.path&&(n+="; Path="+r.path),r.samesite&&(n+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(n+="; Secure"),r.httponly&&(n+="; HttpOnly"),n}const yt="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function Te(){let e="";try{const t=window.crypto,r=new Uint16Array(31);t.getRandomValues(r);let n=0;e=yt.replace(/[x]/g,a=>{const i=r[n]%16,s=a==="x"?i:i&3|8;return n++,s.toString(16)}).toUpperCase()}catch{e=yt.replace(/[x]/g,r=>{const n=Math.random()*16|0;return(r==="x"?n:n&3|8).toString(16)}).toUpperCase()}return`${Nr()}-${e}`}function Nr(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function Ae(e){const t=Vr(e);return{[Q]:t[Q]||"",[X]:t[X]||""}}function kr(){const{storefrontId:e,getPublicTokenHeaders:t,getStorefrontApiUrl:r}=ue();return u.useCallback(({query:n,variables:a})=>{const i=t({contentType:"json"});e&&(i[dt]=e);const s=Ae(document.cookie);return i[ft]=s[Q],i[ht]=s[X],fetch(r(),{method:"POST",headers:i,body:JSON.stringify({query:n.toString(),variables:a})}).then(o=>o.json()).catch(o=>({data:void 0,errors:o==null?void 0:o.toString()}))},[t,e,r])}function Mr({numCartLines:e,cartFragment:t,countryCode:r="US",languageCode:n="EN"}){const a=kr(),i=u.useCallback(c=>a({query:wr(t),variables:{id:c,numCartLines:e,country:r,language:n}}),[a,t,e,r,n]),s=u.useCallback(c=>a({query:Er(t),variables:{input:c,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),o=u.useCallback((c,S)=>a({query:pr(t),variables:{cartId:c,lines:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),l=u.useCallback((c,S)=>a({query:_r(t),variables:{cartId:c,lines:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),d=u.useCallback((c,S)=>a({query:Sr(t),variables:{cartId:c,lines:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),y=u.useCallback((c,S)=>a({query:Cr(t),variables:{cartId:c,note:S,numCartLines:e,country:r,language:n}}),[a,t,e,r,n]),f=u.useCallback((c,S)=>a({query:Tr(t),variables:{cartId:c,buyerIdentity:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),h=u.useCallback((c,S)=>a({query:Ar(t),variables:{cartId:c,attributes:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),m=u.useCallback((c,S)=>a({query:br(t),variables:{cartId:c,discountCodes:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]);return u.useMemo(()=>({cartFetch:i,cartCreate:s,cartLineAdd:o,cartLineUpdate:l,cartLineRemove:d,noteUpdate:y,buyerIdentityUpdate:f,cartAttributesUpdate:h,discountCodesUpdate:m,cartFragment:t}),[i,s,o,l,d,y,f,h,m,t])}function Y(e,t){return{entry:[...(t==null?void 0:t.entryActions)||[],ne({lastValidCart:r=>r==null?void 0:r.cart}),"onCartActionEntry","onCartActionOptimisticUI",e],on:{RESOLVE:{target:(t==null?void 0:t.resolveTarget)||"idle",actions:[ne({prevCart:r=>r==null?void 0:r.lastValidCart,cart:(r,n)=>{var a;return(a=n==null?void 0:n.payload)==null?void 0:a.cart},rawCartResult:(r,n)=>{var a;return(a=n==null?void 0:n.payload)==null?void 0:a.rawCartResult},errors:r=>{}})]},ERROR:{target:(t==null?void 0:t.errorTarget)||"error",actions:[ne({prevCart:r=>r==null?void 0:r.lastValidCart,cart:r=>r==null?void 0:r.lastValidCart,errors:(r,n)=>{var a;return(a=n==null?void 0:n.payload)==null?void 0:a.errors}})]},CART_COMPLETED:{target:"cartCompleted",actions:ne({prevCart:r=>{},cart:r=>{},lastValidCart:r=>{},rawCartResult:r=>{},errors:r=>{}})}},exit:["onCartActionComplete",...(t==null?void 0:t.exitActions)||[]]}}const le={CART_FETCH:{target:"cartFetching"},CART_CREATE:{target:"cartCreating"},CART_SET:{target:"idle",actions:[ne({rawCartResult:(e,t)=>t.payload.cart,cart:(e,t)=>Me(t.payload.cart)})]}},gt={CARTLINE_ADD:{target:"cartLineAdding"},CARTLINE_UPDATE:{target:"cartLineUpdating"},CARTLINE_REMOVE:{target:"cartLineRemoving"},NOTE_UPDATE:{target:"noteUpdating"},BUYER_IDENTITY_UPDATE:{target:"buyerIdentityUpdating"},CART_ATTRIBUTES_UPDATE:{target:"cartAttributesUpdating"},DISCOUNT_CODES_UPDATE:{target:"discountCodesUpdating"}};function Lr(e){return tt({id:"Cart",initial:e?"idle":"uninitialized",context:{cart:e&&Me(e)},states:{uninitialized:{on:le},cartCompleted:{on:le},initializationError:{on:le},idle:{on:{...le,...gt}},error:{on:{...le,...gt}},cartFetching:Y("cartFetchAction",{errorTarget:"initializationError"}),cartCreating:Y("cartCreateAction",{errorTarget:"initializationError"}),cartLineRemoving:Y("cartLineRemoveAction"),cartLineUpdating:Y("cartLineUpdateAction"),cartLineAdding:Y("cartLineAddAction"),noteUpdating:Y("noteUpdateAction"),buyerIdentityUpdating:Y("buyerIdentityUpdateAction"),cartAttributesUpdating:Y("cartAttributesUpdateAction"),discountCodesUpdating:Y("discountCodesUpdateAction")}})}function xr({numCartLines:e,onCartActionEntry:t,onCartActionOptimisticUI:r,onCartActionComplete:n,data:a,cartFragment:i,countryCode:s,languageCode:o}){const{cartFetch:l,cartCreate:d,cartLineAdd:y,cartLineUpdate:f,cartLineRemove:h,noteUpdate:m,buyerIdentityUpdate:c,cartAttributesUpdate:S,discountCodesUpdate:_}=Mr({numCartLines:e,cartFragment:i,countryCode:s,languageCode:o}),w=u.useMemo(()=>Lr(a),[a]),[I,b,v]=yr(w,{actions:{cartFetchAction:async(p,g)=>{var A;if(g.type!=="CART_FETCH")return;const{data:E,errors:P}=await l((A=g==null?void 0:g.payload)==null?void 0:A.cartId),R=W(g,E==null?void 0:E.cart,P);b(R)},cartCreateAction:async(p,g)=>{var A;if(g.type!=="CART_CREATE")return;const{data:E,errors:P}=await d(g==null?void 0:g.payload),R=W(g,(A=E==null?void 0:E.cartCreate)==null?void 0:A.cart,P);b(R)},cartLineAddAction:async(p,g)=>{var A,O;if(g.type!=="CARTLINE_ADD"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await y(p.cart.id,g.payload.lines),R=W(g,(O=E==null?void 0:E.cartLinesAdd)==null?void 0:O.cart,P);b(R)},cartLineUpdateAction:async(p,g)=>{var A,O;if(g.type!=="CARTLINE_UPDATE"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await f(p.cart.id,g.payload.lines),R=W(g,(O=E==null?void 0:E.cartLinesUpdate)==null?void 0:O.cart,P);b(R)},cartLineRemoveAction:async(p,g)=>{var A,O;if(g.type!=="CARTLINE_REMOVE"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await h(p.cart.id,g.payload.lines),R=W(g,(O=E==null?void 0:E.cartLinesRemove)==null?void 0:O.cart,P);b(R)},noteUpdateAction:async(p,g)=>{var A,O;if(g.type!=="NOTE_UPDATE"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await m(p.cart.id,g.payload.note),R=W(g,(O=E==null?void 0:E.cartNoteUpdate)==null?void 0:O.cart,P);b(R)},buyerIdentityUpdateAction:async(p,g)=>{var A,O;if(g.type!=="BUYER_IDENTITY_UPDATE"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await c(p.cart.id,g.payload.buyerIdentity),R=W(g,(O=E==null?void 0:E.cartBuyerIdentityUpdate)==null?void 0:O.cart,P);b(R)},cartAttributesUpdateAction:async(p,g)=>{var A,O;if(g.type!=="CART_ATTRIBUTES_UPDATE"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await S(p.cart.id,g.payload.attributes),R=W(g,(O=E==null?void 0:E.cartAttributesUpdate)==null?void 0:O.cart,P);b(R)},discountCodesUpdateAction:async(p,g)=>{var A,O;if(g.type!=="DISCOUNT_CODES_UPDATE"||!((A=p==null?void 0:p.cart)!=null&&A.id))return;const{data:E,errors:P}=await _(p.cart.id,g.payload.discountCodes),R=W(g,(O=E==null?void 0:E.cartDiscountCodesUpdate)==null?void 0:O.cart,P);b(R)},...t&&{onCartActionEntry:(p,g)=>{Fr(g)&&t(p,g)}},...r&&{onCartActionOptimisticUI:ne((p,g)=>r(p,g))},...n&&{onCartActionComplete:(p,g)=>{jr(g)&&n(p,g)}}}});return u.useMemo(()=>[I,b,v],[I,b,v])}function Me(e){return{...e,lines:J(e==null?void 0:e.lines),note:e.note??void 0}}function W(e,t,r){return r?{type:"ERROR",payload:{errors:r,cartActionEvent:e}}:t?{type:"RESOLVE",payload:{cart:Me(t),rawCartResult:t,cartActionEvent:e}}:{type:"CART_COMPLETED",payload:{cartActionEvent:e}}}function Fr(e){return e.type==="CART_CREATE"||e.type==="CARTLINE_ADD"||e.type==="CARTLINE_UPDATE"||e.type==="CARTLINE_REMOVE"||e.type==="NOTE_UPDATE"||e.type==="BUYER_IDENTITY_UPDATE"||e.type==="CART_ATTRIBUTES_UPDATE"||e.type==="DISCOUNT_CODES_UPDATE"}function jr(e){return e.type==="RESOLVE"||e.type==="ERROR"||e.type==="CART_COMPLETED"}const mt=u.createContext(null);function ie(){const e=u.useContext(mt);if(!e)throw new Error("Expected a Cart Context, but no Cart Context was found");return e}function qr({children:e,numCartLines:t,onCreate:r,onLineAdd:n,onLineRemove:a,onLineUpdate:i,onNoteUpdate:s,onBuyerIdentityUpdate:o,onAttributesUpdate:l,onDiscountCodesUpdate:d,onCreateComplete:y,onLineAddComplete:f,onLineRemoveComplete:h,onLineUpdateComplete:m,onNoteUpdateComplete:c,onBuyerIdentityUpdateComplete:S,onAttributesUpdateComplete:_,onDiscountCodesUpdateComplete:w,data:I,cartFragment:b=Ir,customerAccessToken:v,countryCode:p,languageCode:g}){var Kt,Jt,Qt,Xt,zt,er,tr;const E=ue();if(!E)throw new Error("<CartProvider> needs to be a descendant of <ShopifyProvider>");p=(p??E.countryIsoCode??"US").toUpperCase(),g=(g??E.languageIsoCode??"EN").toUpperCase(),p&&(p=p.toUpperCase());const[P,R]=u.useState(p),[A,O]=u.useState(v),H=u.useRef(!1);(P!==p||A!==v)&&(R(p),O(v),H.current=!1);const[D,$]=xr({numCartLines:t,data:I,cartFragment:b,countryCode:p,languageCode:g,onCartActionEntry(T,k){try{switch(k.type){case"CART_CREATE":return r==null?void 0:r();case"CARTLINE_ADD":return n==null?void 0:n();case"CARTLINE_REMOVE":return a==null?void 0:a();case"CARTLINE_UPDATE":return i==null?void 0:i();case"NOTE_UPDATE":return s==null?void 0:s();case"BUYER_IDENTITY_UPDATE":return o==null?void 0:o();case"CART_ATTRIBUTES_UPDATE":return l==null?void 0:l();case"DISCOUNT_CODES_UPDATE":return d==null?void 0:d()}}catch(L){console.error("Cart entry action failed",L)}},onCartActionOptimisticUI(T,k){var L,K,M,_e;if(!T.cart)return{...T};switch(k.type){case"CARTLINE_REMOVE":return{...T,cart:{...T.cart,lines:(K=(L=T==null?void 0:T.cart)==null?void 0:L.lines)==null?void 0:K.filter(x=>(x==null?void 0:x.id)&&!k.payload.lines.includes(x==null?void 0:x.id))}};case"CARTLINE_UPDATE":return{...T,cart:{...T.cart,lines:(_e=(M=T==null?void 0:T.cart)==null?void 0:M.lines)==null?void 0:_e.map(x=>{const Ze=k.payload.lines.find(({id:ca})=>ca===(x==null?void 0:x.id));return Ze&&Ze.quantity?{...x,quantity:Ze.quantity}:x})}}}return{...T}},onCartActionComplete(T,k){const L=k.payload.cartActionEvent;try{switch(k.type){case"RESOLVE":switch(L.type){case"CART_CREATE":return y==null?void 0:y();case"CARTLINE_ADD":return f==null?void 0:f();case"CARTLINE_REMOVE":return h==null?void 0:h();case"CARTLINE_UPDATE":return m==null?void 0:m();case"NOTE_UPDATE":return c==null?void 0:c();case"BUYER_IDENTITY_UPDATE":return Br(T,L)&&(H.current=!0),S==null?void 0:S();case"CART_ATTRIBUTES_UPDATE":return _==null?void 0:_();case"DISCOUNT_CODES_UPDATE":return w==null?void 0:w()}}}catch(K){console.error("onCartActionComplete failed",K)}}}),ee=u.useRef(!1),[pe,U]=u.useState(!1),ce=D.matches("cartCompleted"),Ee=(D.value==="idle"||D.value==="error"||D.value==="cartCompleted")&&p!==((Qt=(Jt=(Kt=D==null?void 0:D.context)==null?void 0:Kt.cart)==null?void 0:Jt.buyerIdentity)==null?void 0:Qt.countryCode)&&!D.context.errors,Se=u.useRef(!1);u.useEffect(()=>{if(!ee.current&&!Se.current){if(!I&&Le("localStorage")){Se.current=!0;try{const T=window.localStorage.getItem(ke);T&&$({type:"CART_FETCH",payload:{cartId:T}})}catch(T){console.warn("error fetching cartId"),console.warn(T)}}ee.current=!0,U(!0)}},[I,ee,$]),u.useEffect(()=>{!Ee||H.current||$({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:{countryCode:p,customerAccessToken:v}}})},[p,v,Ee,H,$]);const B=u.useCallback(T=>{if(!ee.current)return console.warn("Cart isn't ready yet");$(T)},[$]);u.useEffect(()=>{var T,k,L;if((k=(T=D==null?void 0:D.context)==null?void 0:T.cart)!=null&&k.id&&Le("localStorage"))try{window.localStorage.setItem(ke,(L=D.context.cart)==null?void 0:L.id)}catch(K){console.warn("Failed to save cartId to localStorage",K)}},[(zt=(Xt=D==null?void 0:D.context)==null?void 0:Xt.cart)==null?void 0:zt.id]),u.useEffect(()=>{if(ce&&Le("localStorage"))try{window.localStorage.removeItem(ke)}catch(T){console.warn("Failed to delete cartId from localStorage",T)}},[ce]);const Ge=u.useCallback(T=>{var k,L;p&&!((k=T.buyerIdentity)!=null&&k.countryCode)&&(T.buyerIdentity==null&&(T.buyerIdentity={}),T.buyerIdentity.countryCode=p),v&&!((L=T.buyerIdentity)!=null&&L.customerAccessToken)&&(T.buyerIdentity==null&&(T.buyerIdentity={}),T.buyerIdentity.customerAccessToken=v),B({type:"CART_CREATE",payload:T})},[p,v,B]),V=$r(D),sa=u.useMemo(()=>{var T,k,L,K;return{...((T=V==null?void 0:V.context)==null?void 0:T.cart)??{lines:[],attributes:[]},status:Hr(V.value),error:(k=V==null?void 0:V.context)==null?void 0:k.errors,totalQuantity:((K=(L=V==null?void 0:V.context)==null?void 0:L.cart)==null?void 0:K.totalQuantity)??0,cartCreate:Ge,cartReady:pe,linesAdd(M){var _e,x;(x=(_e=V==null?void 0:V.context)==null?void 0:_e.cart)!=null&&x.id?B({type:"CARTLINE_ADD",payload:{lines:M}}):Ge({lines:M})},linesRemove(M){B({type:"CARTLINE_REMOVE",payload:{lines:M}})},linesUpdate(M){B({type:"CARTLINE_UPDATE",payload:{lines:M}})},noteUpdate(M){B({type:"NOTE_UPDATE",payload:{note:M}})},buyerIdentityUpdate(M){B({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:M}})},cartAttributesUpdate(M){B({type:"CART_ATTRIBUTES_UPDATE",payload:{attributes:M}})},discountCodesUpdate(M){B({type:"DISCOUNT_CODES_UPDATE",payload:{discountCodes:M}})},cartFragment:b}},[Ge,pe,(er=V==null?void 0:V.context)==null?void 0:er.cart,(tr=V==null?void 0:V.context)==null?void 0:tr.errors,V.value,b,B]);return React.createElement(mt.Provider,{value:sa},e)}function Hr(e){switch(e){case"uninitialized":case"initializationError":return"uninitialized";case"idle":case"cartCompleted":case"error":return"idle";case"cartFetching":return"fetching";case"cartCreating":return"creating";case"cartLineAdding":case"cartLineRemoving":case"cartLineUpdating":case"noteUpdating":case"buyerIdentityUpdating":case"cartAttributesUpdating":case"discountCodesUpdating":return"updating"}}function $r(e){const[t,r]=u.useTransition(),[n,a]=u.useState(e),i=u.useRef(!1);t&&(i.current=!0);const s=u.useRef(!1);return!t&&i.current&&(s.current=!0),u.useEffect(()=>{r(()=>{s.current||a(e)})},[e]),s.current?e:n}function Le(e){let t;try{t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(r){return!!(r instanceof DOMException&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0)}}function Br(e,t){var r,n;return!!(t.payload.buyerIdentity.countryCode&&((n=(r=e.cart)==null?void 0:r.buyerIdentity)==null?void 0:n.countryCode)!==t.payload.buyerIdentity.countryCode)}const pt=u.createContext(null);function Yr({children:e,data:t,initialVariantId:r}){const n=u.useMemo(()=>J(t.variants??{}),[t.variants]);if(!Gr(n))throw new Error("<ProductProvider/> requires 'product.variants.nodes' or 'product.variants.edges'");const a=u.useMemo(()=>Wr(n),[n]),[i,s]=u.useState(()=>_t(r,n)),[o,l]=u.useState(()=>Ct(i));u.useEffect(()=>{const _=_t(r,n);s(_),l(Ct(_))},[r,n]);const d=u.useCallback((_,w)=>{l(I=>{const b={...I,[_]:w};return s(St(n,b)),b})},[l,n]),y=u.useCallback((_,w)=>{const I=St(n,{...o,[_]:w});return(I==null?void 0:I.availableForSale)??!0},[o,n]),f=u.useMemo(()=>J(t.sellingPlanGroups??{}).map(_=>({..._,sellingPlans:J((_==null?void 0:_.sellingPlans)??{})})),[t.sellingPlanGroups]),[h,m]=u.useState(void 0),c=u.useMemo(()=>{var _,w;if(!(!i||!h)){if(!((_=i.sellingPlanAllocations)!=null&&_.nodes)&&!((w=i.sellingPlanAllocations)!=null&&w.edges))throw new Error("<ProductProvider/>: You must include 'sellingPlanAllocations.nodes' or 'sellingPlanAllocations.edges' in your variants in order to calculate selectedSellingPlanAllocation");return J(i.sellingPlanAllocations).find(I=>{var b;return((b=I==null?void 0:I.sellingPlan)==null?void 0:b.id)===h.id})}},[i,h]),S=u.useMemo(()=>({product:t,variants:n,variantsConnection:t.variants,options:a,selectedVariant:i,setSelectedVariant:s,selectedOptions:o,setSelectedOption:d,setSelectedOptions:l,isOptionInStock:y,selectedSellingPlan:h,setSelectedSellingPlan:m,selectedSellingPlanAllocation:c,sellingPlanGroups:f,sellingPlanGroupsConnection:t.sellingPlanGroups}),[t,y,a,o,h,c,i,f,d,n]);return React.createElement(pt.Provider,{value:S},e)}function Et(){const e=u.useContext(pt);if(!e)throw new Error("'useProduct' must be a child of <ProductProvider />");return e}function St(e,t){var r,n;if(!(!e.length||((n=(r=e==null?void 0:e[0])==null?void 0:r.selectedOptions)==null?void 0:n.length)!==Object.keys(t).length))return e==null?void 0:e.find(a=>Object.entries(t).every(([i,s])=>{var o;return(o=a==null?void 0:a.selectedOptions)==null?void 0:o.some(l=>(l==null?void 0:l.name)===i&&(l==null?void 0:l.value)===s)}))}function Wr(e){const t=e.reduce((r,n)=>{var a;if(!n.selectedOptions)throw new Error("'getOptions' requires 'variant.selectedOptions'");return(a=n==null?void 0:n.selectedOptions)==null||a.forEach(i=>{r[(i==null?void 0:i.name)??""]=r[(i==null?void 0:i.name)??""]||new Set,r[(i==null?void 0:i.name)??""].add((i==null?void 0:i.value)??"")}),r},{});return Object.keys(t).map(r=>({name:r,values:Array.from(t[r])}))}function _t(e,t){if(e){const r=t.find(n=>(n==null?void 0:n.id)===e);return r||console.warn("<ProductProvider/> received a 'initialVariantId' prop, but could not actually find a variant with that ID"),r}if(e===null)return null;if(e===void 0)return t.find(r=>r==null?void 0:r.availableForSale)||t[0]}function Ct(e){return e!=null&&e.selectedOptions?e.selectedOptions.reduce((t,r)=>(t[(r==null?void 0:r.name)??""]=(r==null?void 0:r.value)??"",t),{}):{}}function Gr(e){return!(!e||!Array.isArray(e))}function be(e){const{as:t,onClick:r,defaultOnClick:n,children:a,buttonRef:i,...s}=e,o=u.useCallback(d=>{if(r){const y=r(d);if(typeof y=="boolean"&&y===!1||d!=null&&d.defaultPrevented)return}n==null||n(d)},[n,r]),l=t||"button";return React.createElement(l,{ref:i,onClick:o,...s},a)}function Zr(e){const[t,r]=u.useState(!1),{variantId:n,quantity:a=1,attributes:i,sellingPlanId:s,onClick:o,children:l,accessibleAddingToCartLabel:d,...y}=e,{status:f,linesAdd:h}=ie(),{selectedVariant:m}=Et(),c=n??(m==null?void 0:m.id)??"",S=n===null||c===""||m===null||t||y.disabled;u.useEffect(()=>{t&&f==="idle"&&r(!1)},[f,t]);const _=u.useCallback(()=>{r(!0),h([{quantity:a,merchandiseId:c||"",attributes:i,sellingPlanId:s}])},[h,a,c,i,s]);return N.createElement(N.Fragment,null,N.createElement(be,{...y,disabled:S,onClick:o,defaultOnClick:_},l),d?N.createElement("p",{style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},role:"alert","aria-live":"assertive"},t?d:null):null)}const re={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},we={article:"article",blog:"blog",captcha:"captcha",cart:"cart",collection:"collection",customersAccount:"customers/account",customersActivateAccount:"customers/activate_account",customersAddresses:"customers/addresses",customersLogin:"customers/login",customersOrder:"customers/order",customersRegister:"customers/register",customersResetPassword:"customers/reset_password",giftCard:"gift_card",home:"index",listCollections:"list-collections",forbidden:"403",notFound:"404",page:"page",password:"password",product:"product",policy:"policy",search:"search"},Tt={hydrogen:"hydrogen",headless:"headless"},At={hydrogen:"6167201",headless:"12875497473"};function q(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function F(e){const t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{const{search:r,searchParams:n,pathname:a,hash:i}=new URL(e),s=a.split("/"),o=s[s.length-1],l=s[s.length-2];return!o||!l?t:{id:`${o}${r}${i}`||"",resource:l??null,resourceId:o||null,search:r,searchParams:n,hash:i}}catch{return t}}function j(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([r,n])=>{n&&(t[r]=n)}),t)}function Kr(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}const Jr="trekkie_storefront_page_view/1.4",Qr="myshopify.dev";function bt(e){const t=e,{id:r,resource:n}=F(t.resourceId),a=n?n.toLowerCase():void 0;return[q(Jr,j({pageType:t.pageType,customerId:parseInt(F(t.customerId).id||"0"),resourceType:a,resourceId:parseInt(r)},Xr(t)))]}function Xr(e){return{appClientId:e.shopifySalesChannel?At[e.shopifySalesChannel]:At.headless,isMerchantRequest:zr(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:Te(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(F(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function zr(e){if(typeof e!="string")return!1;const t=new URL(e).hostname;return t.indexOf(Qr)!==-1||t==="localhost"}const en="2025.7.0",G="custom_storefront_customer_tracking/1.2",wt="page_rendered",It="collection_page_rendered",vt="product_page_rendered",tn="product_added_to_cart",Pt="search_submitted";function de(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(F(e.customerId).id||"0")}}function rn(e){const t=e,r=de(t),n=t.pageType,a=[];switch(a.push(q(G,j({event_name:wt,...r},Z(t)))),n){case we.collection:a.push(q(G,j({event_name:It,...r,collection_name:t.collectionHandle,collection_id:parseInt(F(t.collectionId).id)},Z(t))));break;case we.product:a.push(q(G,j({event_name:vt,...r,products:xe(t.products),total_value:t.totalValue},Z(t))));break;case we.search:a.push(q(G,j({event_name:Pt,...r,search_string:t.searchString},Z(t))));break}return a}function nn(e){const t=e,r=de(t);return[q(G,j({event_name:wt,...r},Z(t)))]}function an(e){const t=e,r=de(t);return[q(G,j({event_name:It,...r,collection_name:t.collectionHandle,collection_id:parseInt(F(t.collectionId).id)},Z(t)))]}function on(e){const t=e,r=de(t);return[q(G,j({event_name:vt,...r,products:xe(t.products),total_value:t.totalValue},Z(t)))]}function sn(e){const t=e,r=de(t);return[q(G,j({event_name:Pt,...r,search_string:t.searchString},Z(t)))]}function cn(e){const t=e,r=F(t.cartId);return[q(G,j({event_name:tn,customerId:t.customerId,cart_token:r!=null&&r.id?`${r.id}`:null,total_value:t.totalValue,products:xe(t.products),customer_id:parseInt(F(t.customerId).id||"0")},Z(t)))]}function Z(e){return{source:e.shopifySalesChannel||Tt.headless,asset_version_id:e.assetVersionId||en,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:Te(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(F(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function xe(e){return e?e.map(t=>{const r=j({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(F(t.productGid).id),variant_id:parseInt(F(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(r)}):[]}function un(e,t){const{eventName:r,payload:n}=e;if(!n.hasUserConsent)return Promise.resolve();let a=[];const i=n;return r===re.PAGE_VIEW?a=a.concat(bt(i),rn(i)):r===re.ADD_TO_CART?a=a.concat(cn(n)):r===re.PAGE_VIEW_2?a=a.concat(bt(i),nn(i)):r===re.COLLECTION_VIEW?a=a.concat(an(i)):r===re.PRODUCT_VIEW?a=a.concat(on(i)):r===re.SEARCH_VIEW&&(a=a.concat(sn(i))),a.length?dn(a,t):Promise.resolve()}function ln(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}const Ot="sendShopifyAnalytics request is unsuccessful";function dn(e,t){if(ln())return Promise.resolve();const r={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(r)}).then(n=>{if(!n.ok)throw new Error("Response failed");return n.text()}).then(n=>{n&&JSON.parse(n).result.forEach(i=>{i.status!==200&&console.error(Ot,`

`,i.message)})}).catch(n=>{console.error(Ot,n)})}catch{return Promise.resolve()}}function fn(){if(Kr("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};const[e,t]=gn(),r=Ae(document.cookie);return{uniqueToken:r[Q],visitToken:r[X],url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function hn(){try{const e=(performance==null?void 0:performance.getEntriesByType)&&(performance==null?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){const t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function yn(){var e,t;try{if(PerformanceNavigation&&((e=performance==null?void 0:performance.navigation)==null?void 0:e.type)!==null&&((t=performance==null?void 0:performance.navigation)==null?void 0:t.type)!==void 0){const r=performance.navigation.type;switch(r){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${r}`}}}catch{}}function gn(){try{let e="PerformanceNavigationTiming",t=hn();return t||(t=yn(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}function mn(e){const{cartCreate:t,checkoutUrl:r}=ie(),[n,a]=u.useState(!1),{quantity:i,variantId:s,sellingPlanId:o,onClick:l,attributes:d,children:y,...f}=e;u.useEffect(()=>{n&&r&&(window.location.href=r)},[n,r]);const h=u.useCallback(()=>{a(!0),t({lines:[{quantity:i??1,merchandiseId:s,attributes:d,sellingPlanId:o}]})},[t,i,s,d,o]);return React.createElement(be,{disabled:n??f.disabled,...f,onClick:l,defaultOnClick:h},y)}function pn(e){const[t,r]=u.useState(!1),{status:n,checkoutUrl:a}=ie(),{children:i,...s}=e;return u.useEffect(()=>{t&&a&&n==="idle"&&(window.location.href=a)},[t,n,a]),React.createElement(be,{...s,disabled:t||s.disabled,onClick:()=>r(!0)},i)}function Rt(e){const{countryIsoCode:t,languageIsoCode:r}=ue(),n=r.includes("_")?r.replace("_","-"):`${r}-${t}`;if(!n)throw new Error("useMoney(): Unable to get 'locale' from 'useShop()', which means that 'locale' was not passed to '<ShopifyProvider/>'. 'locale' is required for 'useMoney()' to work");const a=parseFloat(e.amount);let i=!0;try{new Intl.NumberFormat(n,{style:"currency",currency:e.currencyCode})}catch(c){c instanceof RangeError&&c.message.includes("currency")&&(i=!1)}const{defaultFormatter:s,nameFormatter:o,narrowSymbolFormatter:l,withoutTrailingZerosFormatter:d,withoutCurrencyFormatter:y,withoutTrailingZerosOrCurrencyFormatter:f}=u.useMemo(()=>{const c=i?{style:"currency",currency:e.currencyCode}:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2};return{defaultFormatter:oe(n,c),nameFormatter:oe(n,{...c,currencyDisplay:"name"}),narrowSymbolFormatter:oe(n,{...c,currencyDisplay:"narrowSymbol"}),withoutTrailingZerosFormatter:oe(n,{...c,minimumFractionDigits:0,maximumFractionDigits:0}),withoutCurrencyFormatter:oe(n,{minimumFractionDigits:2,maximumFractionDigits:2}),withoutTrailingZerosOrCurrencyFormatter:oe(n,{minimumFractionDigits:0,maximumFractionDigits:0})}},[e.currencyCode,n,i]),h=c=>c.type==="currency",m=u.useMemo(()=>({original:()=>e,currencyCode:()=>e.currencyCode,localizedString:()=>{const c=s().format(a);return i?c:`${c} ${e.currencyCode}`},parts:()=>{const c=s().formatToParts(a);return i||c.push({type:"literal",value:" "},{type:"currency",value:e.currencyCode}),c},withoutTrailingZeros:()=>{const c=a%1===0?d().format(a):s().format(a);return i?c:`${c} ${e.currencyCode}`},withoutTrailingZerosAndCurrency:()=>a%1===0?f().format(a):y().format(a),currencyName:()=>{var c;return((c=o().formatToParts(a).find(h))==null?void 0:c.value)??e.currencyCode},currencySymbol:()=>{var c;return((c=s().formatToParts(a).find(h))==null?void 0:c.value)??e.currencyCode},currencyNarrowSymbol:()=>{var c;return((c=l().formatToParts(a).find(h))==null?void 0:c.value)??""},amount:()=>s().formatToParts(a).filter(c=>["decimal","fraction","group","integer","literal"].includes(c.type)).map(c=>c.value).join("")}),[e,a,i,o,s,l,y,d,f]);return u.useMemo(()=>new Proxy(m,{get:(c,S)=>{var _;return(_=Reflect.get(c,S))==null?void 0:_.call(null)}}),[m])}const Dt=new Map;function oe(e,t){const r=JSON.stringify([e,t]);return function(){let n=Dt.get(r);if(!n){try{n=new Intl.NumberFormat(e,t)}catch(a){if(a instanceof RangeError&&a.message.includes("currency")){const i={...t};delete i.currency,delete i.currencyDisplay,delete i.currencySign,n=new Intl.NumberFormat(e,i)}else throw a}Dt.set(r,n)}return n}}function Ie({data:e,as:t,withoutCurrency:r,withoutTrailingZeros:n,measurement:a,measurementSeparator:i="/",...s}){if(!En(e))throw new Error("<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'");const o=Rt(e),l=t??"div";let d=o.localizedString;return(r||n)&&(r&&!n?d=o.amount:!r&&n?d=o.withoutTrailingZeros:d=o.withoutTrailingZerosAndCurrency),React.createElement(l,{...s},d,a&&a.referenceUnit&&React.createElement(React.Fragment,null,i,a.referenceUnit))}function En(e){return typeof e.amount=="string"&&!!e.amount&&typeof e.currencyCode=="string"&&!!e.currencyCode}function Sn(e){const{cost:t}=ie(),{amountType:r="total",children:n,...a}=e;let i;return r=="total"?i=t==null?void 0:t.totalAmount:r=="subtotal"?i=t==null?void 0:t.subtotalAmount:r=="tax"?i=t==null?void 0:t.totalTaxAmount:r=="duty"&&(i=t==null?void 0:t.totalDutyAmount),i==null?null:React.createElement(Ie,{...a,data:i},n)}const Vt=u.createContext(null);function Fe(){const e=u.useContext(Vt);if(e==null)throw new Error("Expected a cart line context but none was found");return e}function _n({children:e,line:t}){return React.createElement(Vt.Provider,{value:t},e)}function Cn(e){const t=Fe(),{as:r,...n}=e,a=r||"span";return React.createElement(a,{...n},t.quantity)}function Tn(e){const{status:t,linesRemove:r,linesUpdate:n}=ie(),a=Fe(),{children:i,adjust:s,onClick:o,...l}=e,d=u.useCallback(()=>{if(s==="remove"){r([(a==null?void 0:a.id)??""]);return}const f=s==="decrease"?((a==null?void 0:a.quantity)??0)-1:((a==null?void 0:a.quantity)??0)+1;if(f<=0){r([(a==null?void 0:a.id)??""]);return}const h={id:(a==null?void 0:a.id)??"",quantity:f,attributes:(a==null?void 0:a.attributes)??[]};n([h])},[s,a==null?void 0:a.attributes,a==null?void 0:a.id,a==null?void 0:a.quantity,r,n]),y=l.disabled;return React.createElement(be,{...l,onClick:o,defaultOnClick:d,disabled:typeof y<"u"?y:t!=="idle"},i)}const An={DateTime:"string",Decimal:"string",HTML:"string",URL:"string",Color:"string",UnsignedInt64:"string"},bn={DateTime:"string",Decimal:"string",HTML:"string",ISO8601DateTime:"string",URL:"string",UnsignedInt64:"string"},Ut=u.forwardRef((e,t)=>{const{data:r,options:n,id:a=r.id,frameBorder:i="0",allow:s="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:o=!0,loading:l="lazy",...d}=e;if(!r.embedUrl)throw new Error("<ExternalVideo/> requires the 'embedUrl' property");let y=r.embedUrl;if(n){const f=new URL(r.embedUrl);for(const[h,m]of Object.entries(n))typeof m>"u"||f.searchParams.set(h,m.toString());y=f.toString()}return React.createElement("iframe",{...d,id:a??r.embedUrl,title:r.alt??r.id??"external video",frameBorder:i,allow:s,allowFullScreen:o,src:y,loading:l,ref:t})}),je=",",se={OPTION:":",END_OF_PREFIX:",",SEQUENCE_GAP:" ",RANGE:"-"},qe=(()=>{const e=new Map;return function(t,r){var n;if(t.length===0)return!1;if(!e.has(r)){const a=new Set;for(const i of Nt(r)){a.add(i.join(je));for(let s=0;s<i.length;s++)a.add(i.slice(0,s+1).join(je))}e.set(r,a)}return!!((n=e.get(r))!=null&&n.has(t.join(je)))}})();function Nt(e){if(!e)return[];if(e.startsWith("v1_"))return In(wn(e));throw new Error("Unsupported option value encoding")}const wn=e=>e.replace(/^v1_/,"");function In(e){const t=/[ :,-]/g;let r=0,n;const a=[],i=[];let s=0,o=null;for(;n=t.exec(e);){const d=n[0],y=Number.parseInt(e.slice(r,n.index))||0;if(o!==null){for(;o<y;o++)i[s]=o,a.push([...i]);o=null}i[s]=y,d===se.RANGE?o=y:d===se.OPTION?s++:((d===se.SEQUENCE_GAP||d===se.END_OF_PREFIX&&e[n.index-1]!==se.END_OF_PREFIX)&&a.push([...i]),d===se.END_OF_PREFIX&&(i.pop(),s--)),r=t.lastIndex}const l=e.match(/\d+$/g);if(l){const d=parseInt(l[0]);if(o!=null)for(;o<=d;o++)i[s]=o,a.push([...i]);else a.push([d])}return a}function vn(e){return Object.assign({},...e.map(t=>({[t.name]:Object.assign({},...t!=null&&t.optionValues?t.optionValues.map((r,n)=>({[r.name]:n})):[])})))}function fe(e){return Object.assign({},...e.map(t=>({[t.name]:t.value})))}function He(e){return JSON.stringify(fe(e))}function kt(e){return Array.isArray(e)?JSON.stringify(Object.assign({},...e.map(t=>({[t.name]:t.value})))):JSON.stringify(e)}function Pn(e,t){return Object.keys(e).map(n=>t[n]?t[n][e[n]]:null).filter(n=>n!==null)}function On(e){return Object.assign({},...e.map(t=>({[kt(t.selectedOptions||[])]:t})))}const Mt=["options","selectedOrFirstAvailableVariant","adjacentVariants"],Rn=["handle","encodedVariantExistence","encodedVariantAvailability"];function z(e){return console.error(`[h2:error:getProductOptions] product.${e} is missing. Make sure you query for this field from the Storefront API.`),!1}function Lt(e,t=!1){var a;let r=!0;const n=Object.keys(e);if((t?[...Mt,...Rn]:Mt).forEach(i=>{n.includes(i)||(r=z(i))}),e.options){const i=e==null?void 0:e.options[0];if(t&&!(i!=null&&i.name)&&(r=z("options.name")),(a=e==null?void 0:e.options[0])!=null&&a.optionValues){let s=e.options[0].optionValues[0];t&&!(s!=null&&s.name)&&(r=z("options.optionValues.name")),s=e.options[0].optionValues.filter(o=>!!(o!=null&&o.firstSelectableVariant))[0],s!=null&&s.firstSelectableVariant&&(r=$e(s.firstSelectableVariant,"options.optionValues.firstSelectableVariant",r,t))}else r=z("options.optionValues")}return e.selectedOrFirstAvailableVariant&&(r=$e(e.selectedOrFirstAvailableVariant,"selectedOrFirstAvailableVariant",r,t)),e.adjacentVariants&&e.adjacentVariants[0]&&(r=$e(e.adjacentVariants[0],"adjacentVariants",r,t)),r?e:{}}function $e(e,t,r,n){var i;let a=r;if(n&&!((i=e.product)!=null&&i.handle)&&(a=z(`${t}.product.handle`)),e.selectedOptions){const s=e.selectedOptions[0];s!=null&&s.name||(a=z(`${t}.selectedOptions.name`)),s!=null&&s.value||(a=z(`${t}.selectedOptions.value`))}else a=z(`${t}.selectedOptions`);return a}function Dn(e){const t=Lt(e);if(!t.options)return[];const r={};t.options.map(a=>{var i;(i=a.optionValues)==null||i.map(s=>{if(s.firstSelectableVariant){const o=He(s.firstSelectableVariant.selectedOptions);r[o]=s.firstSelectableVariant}})}),t.adjacentVariants.map(a=>{const i=He(a.selectedOptions);r[i]=a});const n=t.selectedOrFirstAvailableVariant;if(n){const a=He(n.selectedOptions);r[a]=n}return Object.values(r)}function Vn(e){const t=Lt(e,!0);if(!t.options)return[];const{options:r,selectedOrFirstAvailableVariant:n,adjacentVariants:a,encodedVariantExistence:i,encodedVariantAvailability:s,handle:o}=t,l=n==null?void 0:n.selectedOptions.map(c=>c.name),d=r.filter(c=>l&&l.indexOf(c.name)>=0),y=vn(r),f=On(n?[n,...a]:a),h=fe(n?n.selectedOptions:[]);return d.map((c,S)=>({...c,optionValues:c.optionValues.map(_=>{var O;const w={...h};w[c.name]=_.name;const I=kt(w||[]),v=Pn(w||[],y).slice(0,S+1),p=qe(v,i||""),g=qe(v,s||""),E=f[I]||_.firstSelectableVariant;let P={};E&&(P=fe(E.selectedOptions||[]));const R=new URLSearchParams(P),A=((O=E==null?void 0:E.product)==null?void 0:O.handle)||o;return{..._,variant:E,handle:A,variantUriQuery:R.toString(),selected:h[c.name]===_.name,exists:p,available:g,isDifferentProduct:A!==o}})}))}const Un=`#graphql
  fragment Image on Image {
    altText
    url
    width
    height
  }
`,xt=N.forwardRef(({alt:e,aspectRatio:t,crop:r="center",data:n,decoding:a="async",height:i="auto",loader:s=he,loading:o="lazy",sizes:l,src:d,srcSetOptions:y={intervals:15,startingWidth:200,incrementSize:200,placeholderWidth:100},width:f="100%",...h},m)=>{const c=N.useMemo(()=>{const g=n!=null&&n.width&&(n!=null&&n.height)?n==null?void 0:n.width:void 0,E=n!=null&&n.width&&(n!=null&&n.height)?n==null?void 0:n.height:void 0;return{width:g,height:E,unitsMatch:!!jt(g,E)}},[n]),S=N.useMemo(()=>{const E=ye((f||"100%").toString()),P=`${E.number}${E.unit}`,R=i==null,A=R?null:ye(i.toString()),O=A?`${A.number}${A.unit}`:"",H=R?"auto":O,D=d||(n==null?void 0:n.url),$=n!=null&&n.altText&&!e?n==null?void 0:n.altText:e||"",ee=t||(c.unitsMatch?[ge(c.width),ge(c.height)].join("/"):void 0);return{width:P,height:H,src:D,alt:$,aspectRatio:ee}},[f,i,d,n,e,t,c,h==null?void 0:h.key]),{intervals:_,startingWidth:w,incrementSize:I,placeholderWidth:b}=y,v=N.useMemo(()=>Mn(f,_,w,I),[f,_,w,I]);return qt(S.width)?N.createElement(Nn,{aspectRatio:t,crop:r,decoding:a,height:i,imageWidths:v,loader:s,loading:o,normalizedProps:S,passthroughProps:h,ref:m,width:f,data:n}):N.createElement(kn,{aspectRatio:t,crop:r,decoding:a,imageWidths:v,loader:s,loading:o,normalizedProps:S,passthroughProps:h,placeholderWidth:b,ref:m,sizes:l,data:n})}),Nn=N.forwardRef(({aspectRatio:e,crop:t,decoding:r,height:n,imageWidths:a,loader:i=he,loading:s,normalizedProps:o,passthroughProps:l,width:d,data:y},f)=>{const h=N.useMemo(()=>{const m=ge(d),c=ge(n),S=e||(jt(o.width,o.height)?[m,c].join("/"):o.aspectRatio?o.aspectRatio:void 0),_=a===void 0?void 0:$t(a,S,t,{width:(y==null?void 0:y.width)??void 0,height:(y==null?void 0:y.height)??void 0}),w=c||(S&&m?m*(Be(S)??1):void 0),I=Ht(o.src,_,i),b=i({src:o.src,width:m,height:w,crop:o.height==="auto"?void 0:t});return{width:m,aspectRatio:S,height:w,srcSet:I,src:b}},[e,t,y,n,a,i,o,d]);return N.createElement("img",{ref:f,alt:o.alt,decoding:r,height:h.height,loading:s,src:h.src,srcSet:h.srcSet,width:h.width,style:{aspectRatio:h.aspectRatio,...l.style},...l})}),kn=N.forwardRef(({crop:e,decoding:t,imageWidths:r,loader:n=he,loading:a,normalizedProps:i,passthroughProps:s,placeholderWidth:o,sizes:l,data:d},y)=>{const f=N.useMemo(()=>{const h=r===void 0?void 0:$t(r,i.aspectRatio,e,{width:(d==null?void 0:d.width)??void 0,height:(d==null?void 0:d.height)??void 0}),m=i.aspectRatio&&o?o*(Be(i.aspectRatio)??1):void 0,c=Ht(i.src,h,n),S=n({src:i.src,width:o,height:m,crop:e});return{placeholderHeight:m,srcSet:c,src:S}},[e,d,r,n,i,o]);return N.createElement("img",{ref:y,alt:i.alt,decoding:t,height:f.placeholderHeight,loading:a,sizes:l,src:f.src,srcSet:f.srcSet,width:o,...s,style:{width:i.width,aspectRatio:i.aspectRatio,...s.style}})}),Ft="https://placeholder.shopify.com";function he({src:e,width:t,height:r,crop:n}){if(!e)return"";const a=new URL(e,Ft);return t&&a.searchParams.append("width",Math.round(t).toString()),r&&a.searchParams.append("height",Math.round(r).toString()),n&&a.searchParams.append("crop",n),a.href.replace(Ft,"")}function jt(e="100%",t="auto"){return ye(e.toString()).unit===ye(t.toString()).unit}function ye(e){const t=e.replace(/[0-9.]/g,""),r=parseFloat(e.replace(t,""));return{unit:t===""?r===void 0?"auto":"px":t,number:r}}function ge(e){if(e===void 0)return;const{unit:t,number:r}=ye(e.toString());switch(t){case"em":return r*16;case"rem":return r*16;case"px":return r;case"":return r;default:return}}function qt(e){return typeof e=="number"||/\d(px|em|rem)$/.test(e)}function Ht(e,t,r=he){return e?(t==null?void 0:t.length)===0||!t?e:t.map((n,a)=>`${r({src:e,width:n.width,height:n.height,crop:n.crop})} ${t.length===3?`${a+1}x`:`${n.width??0}w`}`).join(", "):""}function Mn(e="100%",t,r,n){const a=Array.from({length:t},(s,o)=>o*n+r),i=Array.from({length:3},(s,o)=>(o+1)*(ge(e)??0));return qt(e)?i:a}function Be(e){if(!e)return;const[t,r]=e.split("/");return 1/(Number(t)/Number(r))}function $t(e,t,r="center",n){if(e)return e.map(a=>({width:a,height:t?a*(Be(t)??1):void 0,crop:r})).filter(({width:a,height:i})=>!(n!=null&&n.width&&a>n.width||n!=null&&n.height&&i&&i>n.height))}const Bt={};function Ln(e,t){const r=Bt[e];if(r)return r;const n=new Promise((a,i)=>{const s=document.createElement("script");t!=null&&t.module?s.type="module":s.type="text/javascript",s.src=e,s.onload=()=>{a(!0)},s.onerror=()=>{i(!1)},(t==null?void 0:t.in)==="head"?document.head.appendChild(s):document.body.appendChild(s);const o=t==null?void 0:t.attributes;o&&Object.keys(o).forEach(l=>{s.setAttribute(l,o[l])})});return Bt[e]=n,n}function Ye(e,t){const[r,n]=u.useState("loading");return u.useEffect(()=>{Ln(e,t).then(()=>n("done")).catch(()=>n("error"))},[e]),r}const Yt=u.forwardRef((e,t)=>{var y;const{data:r,previewImageOptions:n,id:a=r.id,playsInline:i=!0,controls:s=!0,sourceProps:o={},...l}=e,d=he({src:((y=r.previewImage)==null?void 0:y.url)??"",...n});if(!r.sources)throw new Error("<Video/> requires a 'data.sources' array");return React.createElement("video",{...l,id:a,playsInline:i,controls:s,poster:d,ref:t},r.sources.map(f=>{if(!(f!=null&&f.url&&(f!=null&&f.mimeType)))throw new Error("<Video/> needs 'source.url' and 'source.mimeType'");return React.createElement("source",{...o,key:f.url,src:f.url,type:f.mimeType})}))});function Wt(e){var d,y,f;const[t,r]=u.useState(void 0),n=u.useCallback(h=>{r(h)},[]),{data:a,children:i,className:s,...o}=e,l=Ye("https://unpkg.com/@google/model-viewer@v1.12.1/dist/model-viewer.min.js",{module:!0});return u.useEffect(()=>{const h={error:o.onError,load:o.onLoad,preload:o.onPreload,"model-visibility":o.onModelVisibility,progress:o.onProgress,"ar-status":o.onArStatus,"ar-tracking":o.onArTracking,"quick-look-button-tapped":o.onQuickLookButtonTapped,"camera-change":o.onCameraChange,"environment-change":o.onEnvironmentChange,play:o.onPlay,pause:o.onPause,"scene-graph-ready":o.onSceneGraphReady};if(t)return Object.entries(h).forEach(([m,c])=>{c&&t.addEventListener(m,c)}),()=>{t!=null&&Object.entries(h).forEach(([m,c])=>{c&&t.removeEventListener(m,c)})}},[t,o.onArStatus,o.onArTracking,o.onCameraChange,o.onEnvironmentChange,o.onError,o.onLoad,o.onModelVisibility,o.onPause,o.onPlay,o.onPreload,o.onProgress,o.onQuickLookButtonTapped,o.onSceneGraphReady]),l!=="done"?null:(y=(d=a.sources)==null?void 0:d[0])!=null&&y.url?React.createElement("model-viewer",{ref:n,...o,class:s,id:o.id??a.id,src:a.sources[0].url,alt:a.alt??null,"camera-controls":o.cameraControls??!0,poster:(o.poster||((f=a.previewImage)==null?void 0:f.url))??null,autoplay:o.autoplay??!0,loading:o.loading,reveal:o.reveal,ar:o.ar,"ar-modes":o.arModes,"ar-scale":o.arScale,"ar-placement":o.arPlacement,"ios-src":o.iosSrc,"touch-action":o.touchAction,"disable-zoom":o.disableZoom,"orbit-sensitivity":o.orbitSensitivity,"auto-rotate":o.autoRotate,"auto-rotate-delay":o.autoRotateDelay,"rotation-per-second":o.rotationPerSecond,"interaction-policy":o.interactionPolicy,"interaction-prompt":o.interactionPrompt,"interaction-prompt-style":o.interactionPromptStyle,"interaction-prompt-threshold":o.interactionPromptThreshold,"camera-orbit":o.cameraOrbit,"camera-target":o.cameraTarget,"field-of-view":o.fieldOfView,"max-camera-orbit":o.maxCameraOrbit,"min-camera-orbit":o.minCameraOrbit,"max-field-of-view":o.maxFieldOfView,"min-field-of-view":o.minFieldOfView,bounds:o.bounds,"interpolation-decay":o.interpolationDecay??100,"skybox-image":o.skyboxImage,"environment-image":o.environmentImage,exposure:o.exposure,"shadow-intensity":o.shadowIntensity??0,"shadow-softness":o.shadowSoftness??0,"animation-name":o.animationName,"animation-crossfade-duration":o.animationCrossfadeDuration,"variant-name":o.variantName,orientation:o.orientation,scale:o.scale},i):(console.error("<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it. Rendering 'null'"),null)}function xn({data:e,mediaOptions:t,...r}){switch(e.__typename){case"MediaImage":return e.image?React.createElement(xt,{...r,...t==null?void 0:t.image,data:e.image}):(console.warn("<MediaFile/>: 'data.image' does not exist for __typename of 'MediaImage'; rendering 'null' by default."),null);case"Video":return React.createElement(Yt,{...r,...t==null?void 0:t.video,data:e});case"ExternalVideo":return React.createElement(Ut,{...r,...t==null?void 0:t.externalVideo,data:e});case"Model3d":return React.createElement(Wt,{...r,...t==null?void 0:t.modelViewer,data:e});default:return console.error("<MediaFile /> requires the '__typename' property to exist on the 'data' prop in order to render the matching sub-component for this type of media.  Rendering 'null' by default"),null}}function Fn(e){if(!e.type)return console.error("parseMetafield(): The 'type' field is required in order to parse the Metafield. Returning 'parsedValue' of 'null'"),{...e,parsedValue:null};switch(e.type){case"boolean":return{...e,parsedValue:e.value==="true"};case"collection_reference":case"file_reference":case"page_reference":case"product_reference":case"variant_reference":return{...e,parsedValue:e.reference};case"color":case"multi_line_text_field":case"single_line_text_field":case"url":return{...e,parsedValue:e.value};case"money":{let t=null;try{const r=We(e.value??"");if(r&&typeof r=="object"&&"currency_code"in r){const n=r;t={amount:n.amount,currencyCode:n.currency_code}}else r&&typeof r=="object"&&"currencyCode"in r,t=r}catch{console.error("parseMetafield(): attempted to JSON.parse the 'metafield.value' property, but failed. Returning 'null' for 'parsedValue'"),t=null}return{...e,parsedValue:t}}case"dimension":case"json":case"rating":case"volume":case"weight":case"rich_text_field":case"list.color":case"list.dimension":case"list.number_integer":case"list.number_decimal":case"list.rating":case"list.single_line_text_field":case"list.url":case"list.volume":case"list.weight":{let t=null;try{t=We(e.value??"")}catch{console.error("parseMetafield(): attempted to JSON.parse the 'metafield.value' property, but failed. Returning 'null' for 'parsedValue'"),t=null}return{...e,parsedValue:t}}case"date":case"date_time":return{...e,parsedValue:new Date(e.value??"")};case"list.date":case"list.date_time":{const t=We((e==null?void 0:e.value)??"");return{...e,parsedValue:t.map(r=>new Date(r))}}case"number_decimal":case"number_integer":return{...e,parsedValue:Number(e.value)};case"list.collection_reference":case"list.file_reference":case"list.page_reference":case"list.product_reference":case"list.variant_reference":return{...e,parsedValue:J(e.references??void 0)};default:{const t=`parseMetafield(): the 'metafield.type' you passed in is not supported. Your type: "${e.type}". If you believe this is an error, please open an issue on GitHub.`;return console.error(`${t}  Returning 'parsedValue' of 'null'`),{...e,parsedValue:null}}}}function We(e){return String(e).includes("__proto__")?JSON.parse(e,(t,r)=>{if(t!=="__proto__")return r}):JSON.parse(e)}function jn(e){var y,f,h,m,c,S;const{priceType:t="regular",variantId:r,valueType:n="min",data:a,...i}=e;if(a==null)throw new Error("<ProductPrice/> requires a product as the 'data' prop");let s,o;const l=r?J((a==null?void 0:a.variants)??{}).find(_=>(_==null?void 0:_.id)===r)??null:null,d=n==="max"?"maxVariantPrice":"minVariantPrice";if(t==="compareAt"){r&&l?s=l.compareAtPrice:s=(y=a==null?void 0:a.compareAtPriceRange)==null?void 0:y[d];let _;r&&l?_=parseFloat(((f=l.price)==null?void 0:f.amount)??"0"):_=parseFloat(((m=(h=a==null?void 0:a.priceRange)==null?void 0:h[d])==null?void 0:m.amount)??"0");const w=parseFloat((s==null?void 0:s.amount)??"0");if(_>=w)return null}else r&&l?(s=l.price,n==="unit"&&(s=l.unitPrice,o=l.unitPriceMeasurement)):n==="max"?s=(c=a.priceRange)==null?void 0:c.maxVariantPrice:s=(S=a.priceRange)==null?void 0:S.minVariantPrice;return s?o?React.createElement(Ie,{...i,data:s,measurement:o}):React.createElement(Ie,{...i,data:s}):null}const qn={root:Hn,heading:$n,paragraph:Bn,text:Yn,link:Wn,list:Gn,"list-item":Zn};function Hn({node:e}){return React.createElement("div",null,e.children)}function $n({node:e}){return u.createElement(`h${e.level??"1"}`,null,e.children)}function Bn({node:e}){return React.createElement("p",null,e.children)}function Yn({node:e}){return e.bold&&e.italic?React.createElement("em",null,React.createElement("strong",null,e.value)):e.bold?React.createElement("strong",null,e.value):e.italic?React.createElement("em",null,e.value):e.value}function Wn({node:e}){return React.createElement("a",{href:e.url,title:e.title,target:e.target},e.children)}function Gn({node:e}){const t=e.listType==="unordered"?"ul":"ol";return React.createElement(t,null,e.children)}function Zn({node:e}){return React.createElement("li",null,e.children)}function Kn({as:e,data:t,plain:r,components:n,...a}){try{const i=e??"div",s=u.useMemo(()=>JSON.parse(t),[t]);return React.createElement(i,{...a},r?me(s):Gt(n,s))}catch(i){throw new Error("[h2:error:RichText] Parsing error. Make sure to pass a JSON string of rich text metafield",{cause:i})}}function Gt(e={},t,r=0){let n;"children"in t&&(n=t.children.map((i,s)=>Gt(e,i,s)));const a=e[t.type==="list-item"?"listItem":t.type]??qn[t.type];switch(t.type){case"root":return u.createElement(a,{key:r,node:{type:"root",children:n}});case"heading":return u.createElement(a,{key:r,node:{type:"heading",level:t.level,children:n}});case"paragraph":return u.createElement(a,{key:r,node:{type:"paragraph",children:n}});case"text":{const i=(t.value??"").split(`
`).flatMap((s,o)=>{const l=`${r}-${s}-${o}`,d=u.createElement(a,{key:l,node:{type:"text",italic:t.italic,bold:t.bold,value:s}});return o===0?d:[u.createElement("br",{key:`${l}-br`}),d]});return i.length>1?u.createElement(u.Fragment,{key:r},i):i[0]}case"link":return u.createElement(a,{key:r,node:{type:"link",url:t.url,title:t.title,target:t.target,children:n}});case"list":return u.createElement(a,{key:r,node:{type:"list",listType:t.listType,children:n}});case"list-item":return u.createElement(a,{key:r,node:{type:"list-item",children:n}})}}function me(e,t=[]){switch(e.type){case"root":e.children.forEach(r=>me(r,t));break;case"heading":case"paragraph":e.children.forEach(r=>me(r,t)),t.push(" ");break;case"text":t.push(e.value||"");break;case"link":e.children.forEach(r=>me(r,t));break;case"list":e.children.forEach(r=>{r.children&&r.children.forEach(n=>me(n,t)),t.push(" ")});break;default:throw new Error(`Unknown node encountered ${e.type}`)}return t.join("").trim()}const Jn="https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js";function Qn(e){return e==="headless"||e==="hydrogen"}function Xn({channel:e,variantIds:t,className:r,variantIdsAndQuantities:n,width:a,storeDomain:i}){const s=ue(),o=i||(s==null?void 0:s.storeDomain),l=Ye(Jn);let d=[],y;if(!o||o===ut.storeDomain)throw new Error(zn);if(t&&n)throw new Error(ta);if(!t&&!n)throw new Error(Zt);if(e)if(Qn(e))y=e;else throw new Error(ra);if(t)d=t.reduce((h,m)=>{const c=F(m).id;return c&&h.push(c),h},[]);else if(n)d=n.reduce((h,m)=>{const c=F(m==null?void 0:m.id).id;return c&&h.push(`${c}:${(m==null?void 0:m.quantity)??1}`),h},[]);else throw new Error(Zt);if(d.length===0)throw new Error(ea);const f=a?{"--shop-pay-button-width":a}:void 0;return React.createElement("div",{className:r,style:f},l==="done"&&React.createElement("shop-pay-button",{...y?{channel:y}:{},"store-url":o,variants:d.join(",")}))}const zn='You must pass a "storeDomain" prop to the "ShopPayButton" component, or wrap it in a "ShopifyProvider" component.',ea='You must pass in "variantIds" in the form of ["gid://shopify/ProductVariant/1"]',Zt='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton',ta="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component",ra='Invalid channel attribution value. Must be either "headless" or "hydrogen"';function na(e){return u.useEffect(()=>{const t=new URLSearchParams(fe(e||[])),r=new URLSearchParams(window.location.search),n=new URLSearchParams({...Object.fromEntries(r),...Object.fromEntries(t)});n.size>0&&window.history.replaceState({},"",`${window.location.pathname}?${n.toString()}`)},[JSON.stringify(e)]),null}const aa=3600*24*360*1,ia=1800;function oa(e){const{hasUserConsent:t=!1,domain:r="",checkoutDomain:n=""}=e||{};u.useEffect(()=>{const a=Ae(document.cookie);let i=r||window.document.location.host;if(n){const o=n.split(".").reverse(),l=i.split(".").reverse(),d=[];o.forEach((y,f)=>{y===l[f]&&d.push(y)}),i=d.reverse().join(".")}/^localhost/.test(i)&&(i="");const s=i?/^\./.test(i)?i:`.${i}`:"";t?(ve(Q,a[Q]||Te(),aa,s),ve(X,a[X]||Te(),ia,s)):(ve(Q,"",0,s),ve(X,"",0,s))},[e,t,r,n])}function ve(e,t,r,n){document.cookie=Ur(e,t,{maxage:r,domain:n,samesite:"Lax",path:"/"})}C.AddToCartButton=Zr,C.AnalyticsEventName=re,C.AnalyticsPageType=we,C.BuyNowButton=mn,C.CartCheckoutButton=pn,C.CartCost=Sn,C.CartLineProvider=_n,C.CartLineQuantity=Cn,C.CartLineQuantityAdjustButton=Tn,C.CartProvider=qr,C.ExternalVideo=Ut,C.IMAGE_FRAGMENT=Un,C.Image=xt,C.MediaFile=xn,C.ModelViewer=Wt,C.Money=Ie,C.ProductPrice=jn,C.ProductProvider=Yr,C.RichText=Kn,C.SHOPIFY_S=X,C.SHOPIFY_STOREFRONT_ID_HEADER=dt,C.SHOPIFY_STOREFRONT_S_HEADER=ht,C.SHOPIFY_STOREFRONT_Y_HEADER=ft,C.SHOPIFY_Y=Q,C.ShopPayButton=Xn,C.ShopifyProvider=Rr,C.ShopifySalesChannel=Tt,C.Video=Yt,C.createStorefrontClient=Pr,C.customerAccountApiCustomScalars=bn,C.decodeEncodedVariant=Nt,C.flattenConnection=J,C.getAdjacentAndFirstAvailableVariants=Dn,C.getClientBrowserParameters=fn,C.getProductOptions=Vn,C.getShopifyCookies=Ae,C.isOptionValueCombinationInEncodedVariant=qe,C.mapSelectedProductOptionToObject=fe,C.parseGid=F,C.parseMetafield=Fn,C.sendShopifyAnalytics=un,C.storefrontApiCustomScalars=An,C.useCart=ie,C.useCartLine=Fe,C.useLoadScript=Ye,C.useMoney=Rt,C.useProduct=Et,C.useSelectedOptionInUrlParam=na,C.useShop=ue,C.useShopifyCookies=oa,Object.defineProperty(C,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=hydrogen-react.prod.js.map
