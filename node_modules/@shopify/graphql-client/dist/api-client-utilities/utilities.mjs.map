{"version":3,"file":"utilities.mjs","sources":["../../src/api-client-utilities/utilities.ts"],"sourcesContent":["import {RequestParams} from '../graphql-client/types';\n\nimport {\n  AllOperations,\n  ApiClient,\n  ApiClientConfig,\n  ApiClientRequestOptions,\n} from './types';\n\nexport function generateGetHeaders(\n  config: ApiClientConfig,\n): ApiClient['getHeaders'] {\n  return (customHeaders) => {\n    return {...(customHeaders ?? {}), ...config.headers};\n  };\n}\n\nexport function generateGetGQLClientParams<\n  Operations extends AllOperations = AllOperations,\n>({getHeaders, getApiUrl}: Pick<ApiClient, 'getHeaders' | 'getApiUrl'>) {\n  return <Operation extends keyof Operations>(\n    operation: Operation,\n    options?: ApiClientRequestOptions<Operation, Operations>,\n  ): RequestParams => {\n    const props: RequestParams = [operation as string];\n\n    if (options && Object.keys(options).length > 0) {\n      const {\n        variables,\n        apiVersion: propApiVersion,\n        headers,\n        retries,\n        signal,\n      } = options as any;\n\n      props.push({\n        ...(variables ? {variables} : {}),\n        ...(headers ? {headers: getHeaders(headers)} : {}),\n        ...(propApiVersion ? {url: getApiUrl(propApiVersion)} : {}),\n        ...(retries ? {retries} : {}),\n        ...(signal ? {signal} : {}),\n      });\n    }\n\n    return props;\n  };\n}\n"],"names":[],"mappings":"AASM,SAAU,kBAAkB,CAChC,MAAuB,EAAA;IAEvB,OAAO,CAAC,aAAa,KAAI;AACvB,QAAA,OAAO,EAAC,IAAI,aAAa,IAAI,EAAE,CAAC,EAAE,GAAG,MAAM,CAAC,OAAO,EAAC;AACtD,IAAA,CAAC;AACH;SAEgB,0BAA0B,CAExC,EAAC,UAAU,EAAE,SAAS,EAA8C,EAAA;AACpE,IAAA,OAAO,CACL,SAAoB,EACpB,OAAwD,KACvC;AACjB,QAAA,MAAM,KAAK,GAAkB,CAAC,SAAmB,CAAC;AAElD,QAAA,IAAI,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;AAC9C,YAAA,MAAM,EACJ,SAAS,EACT,UAAU,EAAE,cAAc,EAC1B,OAAO,EACP,OAAO,EACP,MAAM,GACP,GAAG,OAAc;YAElB,KAAK,CAAC,IAAI,CAAC;AACT,gBAAA,IAAI,SAAS,GAAG,EAAC,SAAS,EAAC,GAAG,EAAE,CAAC;AACjC,gBAAA,IAAI,OAAO,GAAG,EAAC,OAAO,EAAE,UAAU,CAAC,OAAO,CAAC,EAAC,GAAG,EAAE,CAAC;AAClD,gBAAA,IAAI,cAAc,GAAG,EAAC,GAAG,EAAE,SAAS,CAAC,cAAc,CAAC,EAAC,GAAG,EAAE,CAAC;AAC3D,gBAAA,IAAI,OAAO,GAAG,EAAC,OAAO,EAAC,GAAG,EAAE,CAAC;AAC7B,gBAAA,IAAI,MAAM,GAAG,EAAC,MAAM,EAAC,GAAG,EAAE,CAAC;AAC5B,aAAA,CAAC;QACJ;AAEA,QAAA,OAAO,KAAK;AACd,IAAA,CAAC;AACH;;;;"}