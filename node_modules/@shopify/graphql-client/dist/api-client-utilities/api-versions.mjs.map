{"version":3,"file":"api-versions.mjs","sources":["../../src/api-client-utilities/api-versions.ts"],"sourcesContent":["function getQuarterMonth(quarter: number) {\n  const month = quarter * 3 - 2;\n  return month === 10 ? month : `0${month}`;\n}\n\nfunction getPrevousVersion(year: number, quarter: number, nQuarter: number) {\n  const versionQuarter = quarter - nQuarter;\n\n  if (versionQuarter <= 0) {\n    return `${year - 1}-${getQuarterMonth(versionQuarter + 4)}`;\n  }\n\n  return `${year}-${getQuarterMonth(versionQuarter)}`;\n}\n\nexport function getCurrentApiVersion() {\n  const date = new Date();\n  const month = date.getUTCMonth();\n  const year = date.getUTCFullYear();\n\n  const quarter = Math.floor(month / 3 + 1);\n\n  return {\n    year,\n    quarter,\n    version: `${year}-${getQuarterMonth(quarter)}`,\n  };\n}\n\nexport function getCurrentSupportedApiVersions() {\n  const {year, quarter, version: currentVersion} = getCurrentApiVersion();\n\n  const nextVersion =\n    quarter === 4\n      ? `${year + 1}-01`\n      : `${year}-${getQuarterMonth(quarter + 1)}`;\n\n  return [\n    getPrevousVersion(year, quarter, 3),\n    getPrevousVersion(year, quarter, 2),\n    getPrevousVersion(year, quarter, 1),\n    currentVersion,\n    nextVersion,\n    'unstable',\n  ];\n}\n"],"names":[],"mappings":"AAAA,SAAS,eAAe,CAAC,OAAe,EAAA;AACtC,IAAA,MAAM,KAAK,GAAG,OAAO,GAAG,CAAC,GAAG,CAAC;AAC7B,IAAA,OAAO,KAAK,KAAK,EAAE,GAAG,KAAK,GAAG,CAAA,CAAA,EAAI,KAAK,EAAE;AAC3C;AAEA,SAAS,iBAAiB,CAAC,IAAY,EAAE,OAAe,EAAE,QAAgB,EAAA;AACxE,IAAA,MAAM,cAAc,GAAG,OAAO,GAAG,QAAQ;AAEzC,IAAA,IAAI,cAAc,IAAI,CAAC,EAAE;AACvB,QAAA,OAAO,CAAA,EAAG,IAAI,GAAG,CAAC,CAAA,CAAA,EAAI,eAAe,CAAC,cAAc,GAAG,CAAC,CAAC,CAAA,CAAE;IAC7D;IAEA,OAAO,CAAA,EAAG,IAAI,CAAA,CAAA,EAAI,eAAe,CAAC,cAAc,CAAC,EAAE;AACrD;SAEgB,oBAAoB,GAAA;AAClC,IAAA,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE;AACvB,IAAA,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE;AAChC,IAAA,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE;AAElC,IAAA,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;IAEzC,OAAO;QACL,IAAI;QACJ,OAAO;QACP,OAAO,EAAE,GAAG,IAAI,CAAA,CAAA,EAAI,eAAe,CAAC,OAAO,CAAC,CAAA,CAAE;KAC/C;AACH;SAEgB,8BAA8B,GAAA;AAC5C,IAAA,MAAM,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,cAAc,EAAC,GAAG,oBAAoB,EAAE;AAEvE,IAAA,MAAM,WAAW,GACf,OAAO,KAAK;AACV,UAAE,CAAA,EAAG,IAAI,GAAG,CAAC,CAAA,GAAA;UACX,CAAA,EAAG,IAAI,CAAA,CAAA,EAAI,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,CAAA,CAAE;IAE/C,OAAO;AACL,QAAA,iBAAiB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;AACnC,QAAA,iBAAiB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;AACnC,QAAA,iBAAiB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QACnC,cAAc;QACd,WAAW;QACX,UAAU;KACX;AACH;;;;"}