{
  "version": 3,
  "sources": ["browser-external:url", "browser-external:path", "browser-external:fs/promises", "../../@shopify/hydrogen/src/vite/get-virtual-routes.ts"],
  "sourcesContent": ["module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"url\" has been externalized for browser compatibility. Cannot access \"url.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"path\" has been externalized for browser compatibility. Cannot access \"path.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"fs/promises\" has been externalized for browser compatibility. Cannot access \"fs/promises.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "import {fileURLToPath} from 'node:url';\nimport path from 'node:path';\nimport {readdir} from 'node:fs/promises';\n\n// v3_routeConfig virtual routes constants\nexport const VIRTUAL_ROUTES_DIR = 'vite/virtual-routes/routes';\nexport const VIRTUAL_ROUTES_ROUTES_DIR_PARTS = [\n  'vite',\n  'virtual-routes',\n  'routes',\n];\nexport const VIRTUAL_ROUTES_DIR_PARTS = ['vite', 'virtual-routes'];\nexport const VIRTUAL_ROOT = 'vite/virtual-routes/virtual-root';\n\nfunction getVirtualRoutesPath(\n  pathParts: Array<string>,\n  forFile: string,\n): string {\n  const basePath = new URL('../', import.meta.url);\n  const virtualRoutesPath = pathParts.reduce((working, dirPart) => {\n    return new URL(`${dirPart}/`, working);\n  }, basePath);\n\n  // Getting rid of the drive path (ie. '/C:/') in windows\n  return new URL(forFile, virtualRoutesPath).pathname.replace(\n    /^\\/[a-zA-Z]:\\//,\n    '/',\n  );\n}\n\nexport async function getVirtualRoutesV3() {\n  return {\n    routes: [\n      {\n        id: `${VIRTUAL_ROUTES_DIR}/graphiql`,\n        path: 'graphiql',\n        file: getVirtualRoutesPath(\n          VIRTUAL_ROUTES_ROUTES_DIR_PARTS,\n          'graphiql.jsx',\n        ),\n        index: false,\n      },\n      {\n        id: `${VIRTUAL_ROUTES_DIR}/subrequest-profiler`,\n        path: 'subrequest-profiler',\n        file: getVirtualRoutesPath(\n          VIRTUAL_ROUTES_ROUTES_DIR_PARTS,\n          'subrequest-profiler.jsx',\n        ),\n        index: false,\n      },\n      {\n        id: `${VIRTUAL_ROUTES_DIR}/[.]well-known.appspecific.com[.]chrome[.]devtools[.]json`,\n        path: '.well-known/appspecific/com.chrome.devtools.json',\n        file: getVirtualRoutesPath(\n          VIRTUAL_ROUTES_ROUTES_DIR_PARTS,\n          '[.]well-known.appspecific.com[.]chrome[.]devtools[.]json.jsx',\n        ),\n        index: false,\n      },\n      {\n        id: `${VIRTUAL_ROUTES_DIR}/index`,\n        path: '',\n        file: getVirtualRoutesPath(\n          VIRTUAL_ROUTES_ROUTES_DIR_PARTS,\n          'index.jsx',\n        ),\n        index: true,\n      },\n    ],\n    layout: {\n      file: getVirtualRoutesPath(VIRTUAL_ROUTES_DIR_PARTS, 'layout.jsx'),\n    },\n  };\n}\n\n// original virtual routes constants\nexport const VIRTUAL_ROUTES_DIR_ORIG = 'virtual-routes/routes';\nexport const VIRTUAL_ROOT_ORIG = 'virtual-routes/virtual-root-with-layout';\n\nexport async function getVirtualRoutes() {\n  const distPath = path.dirname(fileURLToPath(import.meta.url));\n  const virtualRoutesPath = path.join(distPath, VIRTUAL_ROUTES_DIR_ORIG);\n\n  const routes = await readdir(virtualRoutesPath, {recursive: true}).then(\n    (files) =>\n      files.map((relativeFilePath) => {\n        const absoluteFilePath = path.join(virtualRoutesPath, relativeFilePath);\n        const id = relativeFilePath\n          .replace(/\\.[jt]sx?$/, '')\n          .replaceAll('\\\\', '/');\n        const isIndex = /(^|\\/)index$/.test(id);\n        const routePath = id.replace(/(^|\\/)index$/, '');\n\n        return {\n          id: `${VIRTUAL_ROUTES_DIR_ORIG}/${id}`,\n          path: routePath,\n          file: absoluteFilePath,\n          index: isIndex,\n        };\n      }),\n  );\n\n  return {\n    routes,\n    root: {\n      id: VIRTUAL_ROOT_ORIG,\n      path: '',\n      file: path.join(distPath, VIRTUAL_ROOT_ORIG + '.jsx'),\n    },\n  };\n}\n"],
  "mappings": "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",
  "names": ["path"]
}
